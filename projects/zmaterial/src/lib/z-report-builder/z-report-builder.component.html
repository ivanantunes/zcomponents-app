<mat-tab-group *ngIf="source !== null; else error" animationDuration="200ms" [selectedIndex]="selectedTab" (selectedIndexChange)="didChangeTab($event)">
  <mat-tab>

    <ng-template mat-tab-label>
      <mat-icon class="tab-icon">filter_alt</mat-icon>
      {{'lbl_filter' | zTranslate}}
    </ng-template>

    <z-form-material
    [title]="source.metadata.form.title"
    [subtitle]="source.metadata.form.subtitle"
    [submitText]="source.metadata.form.submitText"
    [showLoading]="loading"
    [formProvider]="source"
    [showClearButton]="true"
    (formReady)="formFilter = $event"
    (submitValue)="submitFilter($event)"></z-form-material>

  </mat-tab>

  <mat-tab [disabled]="selectedTab === 0">

    <ng-template mat-tab-label>
      <mat-icon class="tab-icon">table_chart</mat-icon>
      {{'lbl_report' | zTranslate}}
    </ng-template>

    <z-report-material *ngIf="selectedTab === 1" [reportProvider]="source"></z-report-material>

  </mat-tab>


</mat-tab-group>

<ng-template #error>

  <p>{{'lbl_source_undefined' | zTranslate}}</p>

</ng-template>
